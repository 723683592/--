<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <script>
    /*
    真题描述：请你实现一个atoi函数，使其能将字符串转换成整数

    1.丢弃无用的开头处空格
    2.第一个字符是+ / -的情况下，让他跟后面尽可能多的数字组合
    3.见到非整数字符就刹车
    4.数值范围【-2^31,2^31-1】,超限的话显示最大值或者最小值
    */

    /*
    概念补充:
    \s匹配空格 
    *表示出现0次或者多次 
    ?表示出现1次或者0次
    []里面表示或
    +表示出现大于1次
    匹配'+'必须加\因为它有其他的意思
    {1,2}最少出现1次,最多出现2次
    ()捕获组,里面拿到的数据从groups=str.match.(reg)拿到,group[1]就是第一项
    */
    function atoi(str) {
      //  设置卡口
      const max = Math.pow(2, 31) - 1
      const min = -max - 1
      //  定义正则
      const reg = /\s*([-\+]?[0-9]*).*/
      //  得到捕获组
      const groups = str.match(reg)
      // 存放返回值
      let res = 0
      if (groups) {
        res = +groups[1]
        // 单独一个+的情况
        if (isNaN(res)) {
          return 0
        }
      }
      if (res > max) {
        return max
      }
      if (res < min) {
        return min
      }
      return res

    }
  </script>
</body>

</html>